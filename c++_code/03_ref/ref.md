# &引用
对于习惯使用C进行开发的程序员来说，&符号是取地址符，但是在C++中，它除了取地址，还有其它的用途，叫做引用（reference），引用是C++的新特性
引用就是变量的别名，对引用的操作与对变量直接操作完全一样。

## 使用

引用的声明方法：
```c++
  数据类型 &引用名=目标变量名；
```
```c++
  int ii;
  int &rii=ii;  // 定义引用rii，它是变量ii的引用，即别名。
  rii=1;  等价于  ii=1;
```
说明：

1）&在此不是求地址运算，而是声明引用。

2）数据类型可以是C语言的基本数据类型，也可以是结构体和类等构造类型。

3）引用在声明的时候必须对其进行初始化（指向目标变量名），否则编译器会报错。

4）引用初始化之后，不能再用作其他变量名的别名。

5）引用声明后，相当于目标变量名有两个名称。

6）不能建立数组的引用，因为数组是多个变量的集合。

7）引用可以用const修饰，表示只读，用这种方式声明的引用，不能通过引用名对目标变量的值进行修改。
```c++
int ii;
const int &rii=ii;
ii=10;    // 可以
rii=10;   // 不行
```

## 引用的应用
### 1. 用于函数的参数
在C语言中函数参数是值传递，如果数据量比较大，采用的方法是传递数据在内存中的地址以提高效率。在C++中，引用也具备传递地址相同的效率

### 2. 用于函数的返回值
引用用于函数的返回值，函数的声明如下：
```c++
数据类型 &函数名(参数列表);
```

引用用于函数的返回值时，有以下注意事项：

1）不能返回函数内部局部变量的引用，因为局部变量会在函数返回后被销毁，皮之不存，毛将焉附？

2）不能返回函数内部动态分配内存的引用，会存在空间无法释放的情况。

3）经常用于返回类成员变量的引用，采用const约束可以防止在类的外部修改成员变量的值。


### 应用经验
引用的出现纯粹是为了优化指针的使用，而提出的语法层面的处理，其实现原理上完全等价于指针，也不能完全避免内存复制。

在很多资料中，把引用的优点过于夸大，在我看来，引用的好处就是调用函数的时候，不用填写取地址符&，子函数中也不写取变量符*，结构体和类不用->取成员。但我更倾向传递地址的方式，更直观，不管是在函数内部还是函数被调用的地方，一眼就能清楚是否是地址。